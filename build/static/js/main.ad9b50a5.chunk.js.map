{"version":3,"sources":["plugins/BunqLayoutPlugin/components/BunqLayout/BunqLayout.js","plugins/BunqLayoutPlugin/components/Sidebar/Sidebar.js","plugins/BunqLayoutPlugin/components/SidebarItem/SidebarItem.js","plugins/BunqLayoutPlugin/BunqLayoutPlugin.js","plugins/DisableTryItOutPlugin/DisableTryItOutPlugin.js","helpers/tracking.js","helpers/registerServiceWorker.js","index.js"],"names":["BunqLayout","BaseLayout","getComponent","this","props","react_default","a","createElement","className","renderSidebar","Sidebar","specSelectors","loadingStatus","React","Component","SidebarItem","operationTags","bunqSelectors","getSidebarEndpoints","href","topics","map","topic","index","key","tag","name","isApiEndpoint","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","hash","concat","event","elementSelector","preventDefault","window","history","pushState","setTimeout","scrollContainer","document","querySelector","element","zenscroll","createScroller","to","parentElement","_this2","onClick","scrollToOperation","initializeScrollToTopic","actions","updateSidebarEndpoints","apiSpecification","tags","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","push","err","return","type","payload","updateApiSpecification","originalAction","system","bunqActions","JSON","parse","readyToScrollSupportLegacyUrls","operation","requestedOperation","layoutSelectors","getScrollToKey","toJS","reducers","action","set","selectors","get","layoutActions","readyToScroll","getIsShownKeyFromUrlHashArray","originalSelector","urlHashKey","isShownKey","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","BunqLayoutPlugin","components","statePlugins","bunq","BUNQ_UPDATE_SIDEBAR_ENDPOINTS","layout","wrapActions","wrapSelectors","isShownKeyFromUrlHashArray","spec","updateSpec","DisableTryItOutPlugin","allowTryItOutFor","initializeAllTracking","googleTagManagerContainerId","process","REACT_APP_GOOGLE_TAG_MANAGER_CONTAINER_ID","w","d","s","l","i","gtm.start","Date","getTime","f","getElementsByTagName","j","async","src","parentNode","insertBefore","initializeGoogleTagManagerIfNeeded","removeEventListener","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch","error","dotenv","config","SwaggerUIStandalonePreset","url","dom_id","deepLinking","plugins","addEventListener","shouldAddMotionListeners","cookieconsent","initialise","position","content","message","dismiss","link","container","onInitialise","hasConsented","hasInitialised","URL","origin","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.ad9b50a5.chunk.js","sourcesContent":["import React from \"react\";\n\n/**\n * @author Nicola Parrello <nparrello@bunq.com>\n * @since  20181005 Initial creation.\n */\nclass BunqLayout extends React.Component {\n    /**\n     * @returns {Node}\n     */\n    render (): Node {\n        const { getComponent } = this.props;\n        const BaseLayout = getComponent(\"BaseLayout\", true);\n\n        return (\n            <div className=\"doc-wrapper\">\n                {\n                    this.renderSidebar()\n                }\n                <BaseLayout />\n            </div>\n        );\n    }\n\n    /**\n     * @returns {Node}\n     */\n    renderSidebar (): Node {\n        const { getComponent } = this.props;\n        const Sidebar = getComponent(\"Sidebar\", true);\n        const loadingStatus = this.props.specSelectors.loadingStatus();\n\n        if (\"success\" === loadingStatus) {\n            return <Sidebar {...this.props} />;\n        } else {\n            return null;\n        }\n    }\n}\n\nexport default BunqLayout;\n","import React from \"react\";\n\n/**\n * @author Nicola Parrello <nparrello@bunq.com>\n * @since  20181009 Initial creation.\n */\nclass Sidebar extends React.Component {\n    /**\n     * @type {Object[]}\n     */\n    static topics = [\n        {\n            tag: \"introduction\",\n            name: \"Introduction\"\n        },\n        {\n            tag: \"oauth\",\n            name: \"OAuth\"\n        },\n        {\n            tag: \"authentication\",\n            name: \"Authentication\"\n        },\n        {\n            tag: \"psd2\",\n            name: \"PSD2 service provider\"\n        },\n        {\n            tag: \"signing\",\n            name: \"Signing\"\n        },\n        {\n            tag: \"headers\",\n            name: \"Headers\"\n        },\n        {\n            tag: \"errors\",\n            name: \"Errors\"\n        },\n        {\n            tag: \"api-conventions\",\n            name: \"API Conventions\"\n        },\n        {\n            tag: \"callbacks\",\n            name: \"Callbacks\"\n        },\n        {\n            tag: \"pagination\",\n            name: \"Pagination\"\n        },\n        {\n            tag: \"moving-to-production\",\n            name: \"Moving to Production\"\n        },\n        {\n            tag: \"android-emulator\",\n            name: \"Android Emulator\"\n        },\n        {\n            tag: \"quickstart-opening-a-session\",\n            name: \"Quickstart: Opening a Session\"\n        },\n        {\n            tag: \"quickstart-payment-request\",\n            name: \"Quickstart: Payment Request\"\n        },\n        {\n            tag: \"quickstart-create-a-tab-payment\",\n            name: \"Quickstart: Create a Tab payment\"\n        }\n    ];\n\n    /**\n     * @returns {Node}\n     */\n    render (): Node {\n        const { getComponent } = this.props;\n        const SidebarItem = getComponent(\"SidebarItem\", true);\n        const operationTags = this.props.bunqSelectors.getSidebarEndpoints();\n\n        return (\n            <div className=\"sidebar\">\n                <a href=\"https://www.bunq.com\" className=\"sidebar-logo-container\">\n                    <span className=\"sidebar-logo\"></span>\n                </a>\n\n                <h3 className=\"sidebar-title\">TOPICS</h3>\n                <ul className=\"sidebar-list\">\n                    {\n                        Sidebar.topics.map((topic: Object, index: number): Element => {\n                            return (\n                                <SidebarItem key={ index } tag={ topic.tag } name={ topic.name } />\n                            );\n                        })\n                    }\n                </ul>\n\n                <h3 className=\"sidebar-title\">RESOURCES</h3>\n                <ul className=\"sidebar-list\">\n                    {\n                        operationTags.map((tag: string, index: number): Element => {\n                            return (\n                                <SidebarItem key={ index } tag={ tag } name={ tag } isApiEndpoint={ true } />\n                            );\n                        })\n                    }\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default Sidebar;\n","import React from \"react\";\nimport zenscroll from \"zenscroll\";\n\n/**\n * @author Nicola Parrello <nparrello@bunq.com>\n * @since  20181019 Initial creation.\n */\nclass SidebarItem extends React.Component {\n    /**\n     * @param {Object} props\n     */\n    constructor (props: Object) {\n        super(props);\n\n        const {\n            tag,\n            name,\n            isApiEndpoint\n        } = props;\n\n        this.state = {\n            tag: tag,\n            hash: `#/${tag}`,\n            name: name,\n            isApiEndpoint: isApiEndpoint || false\n        };\n    }\n\n    /**\n     * @param {Event} event\n     */\n    scrollToOperation (event: Event) {\n        let elementSelector;\n\n        event.preventDefault();\n\n        window.history.pushState(null, null, this.state.hash);\n\n        if (this.state.isApiEndpoint) {\n            elementSelector = `#operations-tag-${this.state.tag}`;\n        } else {\n            elementSelector = `#topic-${this.state.tag}`;\n        }\n\n        window.setTimeout(() => {\n            const scrollContainer = document.querySelector(\".swagger-ui\");\n            const element = document.querySelector(elementSelector);\n\n            if (element) {\n                const scroller = zenscroll.createScroller(scrollContainer);\n\n                scroller.to(element.parentElement);\n            }\n        }, 200);\n    }\n\n    /**\n     * @returns {Node}\n     */\n    render (): Node {\n        return (\n            <li>\n                <a href={ this.state.hash } onClick={ (event) => this.scrollToOperation(event) }>{ this.state.name }</a>\n            </li>\n        );\n    }\n\n    /**\n     */\n    componentDidUpdate () {\n        if (!this.state.isApiEndpoint) {\n            this.props.bunqSelectors.initializeScrollToTopic(this.state.tag);\n        }\n    }\n}\n\nexport default SidebarItem;\n","// @flow\nimport BunqLayout from \"./components/BunqLayout/BunqLayout\";\nimport Sidebar from \"./components/Sidebar/Sidebar\";\nimport SidebarItem from \"./components/SidebarItem/SidebarItem\";\n\n/**\n * @type {Object}\n */\nconst actions = {\n    /**\n     * @param {Object} apiSpecification\n     *\n     * @returns {Object}\n     */\n    updateSidebarEndpoints: (apiSpecification: Object): Object => {\n        const tags = [];\n\n        if (apiSpecification.tags) {\n            for (const tag of apiSpecification.tags) {\n                tags.push(tag.name);\n            }\n        }\n\n        return {\n            type: \"BUNQ_UPDATE_SIDEBAR_ENDPOINTS\",\n            payload: tags\n        }\n    },\n\n    /**\n     * @param {Function} originalAction\n     * @param {Object} system\n     *\n     * @returns {Object}\n     */\n    updateApiSpecification: (\n        originalAction: Function,\n        system: Object\n    ): Object => (apiSpecification: Object): Object => {\n        system.bunqActions.updateSidebarEndpoints(JSON.parse(apiSpecification));\n\n        return originalAction(apiSpecification);\n    },\n\n    /**\n     * @param {Function} originalAction\n     * @param {Object} system\n     */\n    readyToScrollSupportLegacyUrls: (\n        originalAction: Function,\n        system: Object\n    ): Object => (operation: Object, element: Element): Object => {\n        let requestedOperation = system.layoutSelectors.getScrollToKey();\n\n        /*\n         * Always tries to scroll to the operation-tag (e.g. session-server), so that if the requested url is old\n         * or does not exist anymore at least the visitor is brought to a relevant resource.\n         */\n        if (requestedOperation) {\n            requestedOperation = requestedOperation.toJS();\n\n            if (\"operations\" === requestedOperation[0] && requestedOperation[1] === operation[1]) {\n                originalAction(requestedOperation, element);\n            }\n        }\n\n        originalAction(operation, element);\n    }\n};\n\n/**\n * @type {Object}\n */\nconst reducers = {\n    /**\n     * @param {Object} state\n     * @param {Object} action\n     *\n     * @returns {Object}\n     */\n    updateSidebarEndpoints: (state: Object, action: Object): Object => {\n        return state.set(\"tags\", action.payload);\n    }\n};\n\n/**\n * @type {Object}\n */\nconst selectors = {\n    /**\n     * @param {Object} state\n     *\n     * @returns {Object[]}\n     */\n    getSidebarEndpoints: (state: Object): Object[] => {\n        return state.get(\"tags\") || [];\n    },\n\n    /**\n     * @param {Object} state\n     * @param {string} tag\n     */\n    initializeScrollToTopic: (state: Object, tag: string) => (system: Object) => {\n        const element = document.querySelector(`#topic-${tag}`);\n\n        if (element) {\n            system.layoutActions.readyToScroll([\"topic\", tag], element.parentElement);\n        }\n    },\n\n    /**\n     * @param {Function} originalSelector\n     * @param {Object} system\n     *\n     * @returns {string[]}\n     */\n    getIsShownKeyFromUrlHashArray: (\n        originalSelector: Function,\n        system: Object\n    ): string[] => (state: Object, urlHashKey: string[]): string[] => {\n        const isShownKey = originalSelector(urlHashKey);\n\n        if (\"operations-tag\" === isShownKey[0]) {\n            for (const topic of Sidebar.topics) {\n                if (topic.tag === isShownKey[1]) {\n                    return [\"topic\", isShownKey[1]];\n                }\n            }\n        }\n\n        return isShownKey;\n    }\n};\n\n/**\n * @returns {Object}\n */\nconst BunqLayoutPlugin = (): Object => {\n    return {\n        components: {\n            BunqLayout: BunqLayout,\n            Sidebar: Sidebar,\n            SidebarItem: SidebarItem\n        },\n        statePlugins: {\n            bunq: {\n                actions: {\n                    updateSidebarEndpoints: actions.updateSidebarEndpoints\n                },\n                reducers: {\n                    \"BUNQ_UPDATE_SIDEBAR_ENDPOINTS\": reducers.updateSidebarEndpoints\n                },\n                selectors: {\n                    getSidebarEndpoints: selectors.getSidebarEndpoints,\n                    initializeScrollToTopic: selectors.initializeScrollToTopic\n                }\n            },\n            layout: {\n                wrapActions: {\n                    readyToScroll: actions.readyToScrollSupportLegacyUrls\n                },\n                wrapSelectors: {\n                    isShownKeyFromUrlHashArray: selectors.getIsShownKeyFromUrlHashArray\n                }\n            },\n            spec: {\n                wrapActions: {\n                    updateSpec: actions.updateApiSpecification\n                }\n            }\n        }\n    }\n};\n\nexport default BunqLayoutPlugin;\n","// @flow\nconst DisableTryItOutPlugin = () => {\n    return {\n        statePlugins: {\n            spec: {\n                wrapSelectors: {\n                    allowTryItOutFor: () => () => false\n                }\n            }\n        }\n    }\n};\n\nexport default DisableTryItOutPlugin;\n","// @flow\n/**\n */\nexport default function initializeCookieConsentBar() {\n    window.addEventListener(\"load\", () => {\n        var shouldAddMotionListeners = true;\n\n        window.cookieconsent.initialise({\n            position: \"bottom\",\n            content: {\n                message: \"We use cookies when you continue to use our website.\",\n                dismiss: \"got it!\",\n                link: \"Learn more\",\n                href: \"https://www.bunq.com/privacy\"\n            },\n            container: document.querySelector(\".react-root\"),\n            onInitialise: function () {\n                if (this.hasConsented()) {\n                    initializeAllTracking();\n\n                    shouldAddMotionListeners = false;\n                }\n            }\n        });\n\n        if (window.cookieconsent.hasInitialised && shouldAddMotionListeners) {\n            window.addEventListener(\"scroll\", initializeAllTracking);\n            window.addEventListener(\"keydown\", initializeAllTracking);\n            window.addEventListener(\"mousedown\", initializeAllTracking);\n            window.addEventListener(\"touchstart\", initializeAllTracking);\n        }\n    });\n}\n\n/**\n */\nfunction initializeAllTracking() {\n    initializeGoogleTagManagerIfNeeded();\n\n    window.removeEventListener(\"scroll\", initializeAllTracking);\n    window.removeEventListener(\"keydown\", initializeAllTracking);\n    window.removeEventListener(\"mousedown\", initializeAllTracking);\n    window.removeEventListener(\"touchstart\", initializeAllTracking);\n}\n\n/**\n */\nfunction initializeGoogleTagManagerIfNeeded() {\n    const googleTagManagerContainerId = process.env.REACT_APP_GOOGLE_TAG_MANAGER_CONTAINER_ID;\n\n    if (googleTagManagerContainerId) {\n        (function(w, d, s, l, i) {\n            w[l] = w[l] || [];\n            w[l].push({\n                \"gtm.start\": new Date().getTime(),\n                event: \"gtm.js\"\n            });\n            var f = d.getElementsByTagName(s)[0],\n                j = d.createElement(s),\n                dl = l !== \"dataLayer\" ? \"&l=\" + l : \"\";\n            j.async = true;\n            j.src = \"https://www.googletagmanager.com/gtm.js?id=\" + i + dl;\n            f.parentNode.insertBefore(j, f);\n        }) (window, document, \"script\", \"dataLayer\", googleTagManagerContainerId);\n    }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Lets check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://goo.gl/SC7cgQ'\n                    );\n                });\n            } else {\n                // Is not local host. Just register service worker\n                registerValidSW(swUrl);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the old content will have been purged and\n                            // the fresh content will have been added to the cache.\n                            // It's the perfect time to display a \"New content is\n                            // available; please refresh.\" message in your web app.\n                            console.log('New content is available; please refresh.');\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            if (\n                response.status === 404 ||\n                response.headers.get('content-type').indexOf('javascript') === -1\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","// @flow\nimport SwaggerUIStandalonePreset from \"swagger-ui\";\nimport \"cookieconsent/build/cookieconsent.min.js\";\nimport dotenv from \"dotenv\";\n\nimport {\n    BunqLayoutPlugin,\n    DisableTryItOutPlugin\n} from \"./plugins\";\nimport initializeCookieConsentBar from \"./helpers/tracking\";\nimport registerServiceWorker from \"./helpers/registerServiceWorker\";\n\nimport \"swagger-ui/dist/swagger-ui.css\";\nimport \"./scss/index.css\";\n\ndotenv.config();\n\nSwaggerUIStandalonePreset({\n    url: \"https://raw.githubusercontent.com/bunq/doc/master/swagger.json\",\n    dom_id: \"#root\",\n    deepLinking: true,\n    layout: \"BunqLayout\",\n    plugins: [\n        BunqLayoutPlugin,\n        DisableTryItOutPlugin\n    ]\n});\n\ninitializeCookieConsentBar();\nregisterServiceWorker();\n\n"],"sourceRoot":""}